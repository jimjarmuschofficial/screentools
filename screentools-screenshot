#!/bin/bash
# Screenshot script that copies selection directly to clipboard
# Similar to Windows Snipping Tool

# Create screenshots directory if it doesn't exist
SCREENSHOTS_DIR="$HOME/Pictures/Screenshots"
mkdir -p "$SCREENSHOTS_DIR"

# Generate filename with timestamp
FILENAME="$SCREENSHOTS_DIR/screenshot-$(date +%Y%m%d-%H%M%S).png"

# Take screenshot and save to file + clipboard
# The -s flag shows selection crosshair
maim -s | tee "$FILENAME" | xclip -selection clipboard -t image/png

# Check if maim was successful
if [ ${PIPESTATUS[0]} -eq 0 ]; then
    # Show success notification
    notify-send "Screenshot" "Saved and copied to clipboard\n$FILENAME" -i screenshot -t 2000
fi
